<!DOCTYPE html>
<html>
<head>
	<title>Birthday Timer</title>
	<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
</head>
<body class="text-center mt-5">
<input type="date" name="dob" id="dob">
<button type="button" class="btn btn-primary" onclick="getDetails()">age details</button>
<div class="container mt-5">
	<ul class="list-group">
	  <li class="list-group-item active">You Born from now</li>
	  <li class="list-group-item"> Year 	: <span id="year"></span></li>
	  <li class="list-group-item"> Months   : <span id="month"></span></li>
	  <li class="list-group-item"> Day 		: <span id="day"></span></li>
	  <li class="list-group-item"> Hours 	: <span id="hours"></span></li>
	  <li class="list-group-item"> Minitues : <span id="minitues"></span></li>
	  <li class="list-group-item"> Seconds  : <span id="seconds"></span></li>
	</ul>
</div>

<script type="text/javascript">
var slug = 0; var years=0; var months=0; var days=0; var hours=0; var mins=0 ;var seconds=0;
var day = 1000 * 60 * 60 * 24;
function dateDifference(date1,date2) {
	return Math.floor(date1.getTime()-date2.getTime());
}
function daysDifference(date1,date2) {
	return Math.floor(dateDifference(date1,date2)/day);
}
function monthDifference(date1,date2) {
	return Math.floor(days/31);
}
function yearDifference(date1,date2) {
	return Math.floor(monthDifference(date1,date2)/12);
}
function hourDifference(date1,date2) {
	return Math.floor(dateDifference(date1,date2) / (1000 * 3600));
}
function minituesDifference(date1,date2) {
	return Math.floor((date1 - date2 + 19800000) / (60000));
}
function secondsDifference(date1,date2) {
	return Math.floor((date1 - date2 + 19800000) / 1000);
}
function dateValation(date) {
	var current_date = new Date();
	if(current_date < date)
	{
	    alert(" The given date is Future Date");
		return false;
	} else {
		return true;
	}
}
function getDetails() {
	var current_date = new Date();
	var dob = new Date(document.getElementById("dob").value);
	document.getElementById('year').innerHTML = '';
  	document.getElementById('month').innerHTML = '';
  	document.getElementById('day').innerHTML = '';
  	document.getElementById('hours').innerHTML = '';
  	document.getElementById('minitues').innerHTML = '';
  	document.getElementById('seconds').innerHTML = '';
	if (document.getElementById("dob").value =='') {
		alert('Please select  date');
		
		return false;
	}
	
	if (dateValation(dob)) {
	    days 	 = daysDifference(current_date,dob);
	    months 	 = monthDifference(current_date,dob);
	    years 	 = yearDifference(current_date,dob);
	    hours    = hourDifference(current_date,dob); 
	    mins 	 = minituesDifference(current_date,dob);
	    seconds  = secondsDifference(current_date,dob);
		printOutput()
	}
}

function printOutput() {
  	document.getElementById('year').innerHTML = years;
  	document.getElementById('month').innerHTML = months;
  	document.getElementById('day').innerHTML = days;
  	document.getElementById('hours').innerHTML = hours;
  	document.getElementById('minitues').innerHTML = mins;
  	document.getElementById('seconds').innerHTML = seconds;
  	slug = 1;
  	timer();
}
function timer() {
	if (slug ==1) {
		setInterval(function(){
			var current_date = new Date();
			var dob = new Date(document.getElementById("dob").value);
			days 	 = daysDifference(current_date,dob);
		    months 	 = monthDifference(current_date,dob);
		    years 	 = yearDifference(current_date,dob);
		    hours    = hourDifference(current_date,dob); 
		    mins 	 = minituesDifference(current_date,dob);
			seconds  = secondsDifference(current_date,dob);
		  	document.getElementById('seconds').innerHTML = seconds;
		}, 1000); 
	}
}


</script>
</body>
</html>